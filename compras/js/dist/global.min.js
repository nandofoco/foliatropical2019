$(document).ready(function(){var e=$("section#escolha-dia"),o=$("section#escolha-tipo"),l=$("section#carrinho"),t=$("form.padrao"),c=$("section#cadastro");if(t.find(".selectbox").selectbox(),t.find(".radio").radio(),t.find(".checkbox").checkbox(),t.find(".select2 select").select2().trigger("change"),$("section#cadastro").hide(),$("section#esqueci").hide(),$("form.infield label, label.infield").inFieldLabels({fadeOpacity:.3}),$("a.confirm").click(function(){var t=$(this);$(this).attr("title");return swal({title:"",text:t.attr("title"),showCancelButton:!0,confirmButtonText:t.data("sim"),cancelButtonText:t.data("cancelar")},function(){return location.href=t.prop("href")}),!1}),e.find('#check-dia.checkbox ul input[name="dia"]').change(function(){var a=$(this).val();$.post(site+"br/carrinho/selecionar/",{dia:a},function(t){t.sucesso?(e.find('#check-dia.checkbox ul input[name="dia"]').each(function(){$(this).val()!=a?$(this).closest(".item").addClass("faded"):$(this).closest(".item").removeClass("faded")}),o.find("#check-tipo.checkbox > ul").html(t.itens)):1038==a?swal({title:"Em breve!",text:"Os ingressos de 02 de Março ainda não estão a venda, em breve teremos ingressos disponíveis",html:!0,type:"error"}):swal({title:"Ingressos não disponíveis pelo site",text:" Entre em contato através de nosso Whatsapp 21 99311-5550, atendimento@grupopacifica.com.br ou através do telefone 21 3202-6000.",html:!0,type:"error"})},"json")}),$("[type='number']").keypress(function(t){t.preventDefault()}),l.find('td.qtde select[name^="quantidade"]').change(function(){var t=$(this),a=parseInt(t.val()),e=0,o=parseFloat(t.closest("td.qtde").find('input[name="valor"]').val());e=(e=parseFloat(o*a)).toFixed(2),t.closest("td.qtde").find('input[name="valortotal"]').val(e),6<(e=(e=toString(e)).replace(".",",")).length&&(e=e.replace(/([0-9]{3}),([0-9]{2}$)/g,".$1,$2")),t.closest("tr").find("td.valor span.valor").html("R$ "+e);var n=0;l.find('td.qtde input[name="valortotal"]').each(function(){var t=parseFloat($(this).val());n+=t});var i=n=(n=parseFloat(n)).toFixed(2),s=!1;if(6<(n=(n=toString(n)).replace(".",",")).length&&(n=n.replace(/([0-9]{3}),([0-9]{2}$)/g,".$1,$2")),l.find("tr.total td.valor").html("R$ "+n),console.log("teste"),l.find("td.total-final span.valor")[0]){var c=parseFloat(l.find('tr.desconto input[name="desconto"]').val());0<c?(c.toFixed(2),i-=c,s=!0):(i=i.toFixed(2),6<(i=(i=toString(i)).replace(".",",")).length&&(i=i.replace(/([0-9]{3}),([0-9]{2}$)/g,".$1,$2")),l.find("td.total-final span.valor").html("R$ "+i))}var r=t.attr("rel");$.get(site+"carrinho/adicionar/",{quantidade:a,a:"quantidade",c:r},function(){console.log(s),0<a&&!s||window.location.reload()},"json")}),l.find("a.adicionar-cupom").click(function(){var t=$("input#compra-parceiro").val();$.post(site+"carrinho/cupom/",{cupom:t},function(t){console.log(t),swal({title:"Cupom Desconto/Parceiro",text:t.mensagem,html:!0,type:t.sucesso?"success":"error"},function(){window.location.reload()})},"json")}),$("a.cadastro").click(function(){return $("#cadastro").slideDown("fast",function(){$("html, body").animate({scrollTop:$(this).offset().top-200},200)}),!1}),$("a.esqueci").click(function(){return $("#esqueci").slideDown("fast",function(){$("html, body").animate({scrollTop:$(this).offset().top-200},200)}),!1}),$("#cadastro-endereco").on("change",'select[name="pais"]',function(t){"BR"==$(this).val()?($(this).closest("form").find('input[name="bairro"]').attr("data-validate","true").closest(".form-group").show(),$(this).closest("form").find('input[name="cep"]').attr("data-validate","true").closest(".form-group").show(),$(this).closest("form").find('input[name="zipcode"]').attr("data-validate","false").val("").closest(".form-group").hide()):($(this).closest("form").find('input[name="bairro"]').attr("data-validate","false").val("").closest(".form-group").hide(),$(this).closest("form").find('input[name="cep"]').attr("data-validate","false").val("").closest(".form-group").hide(),$(this).closest("form").find('input[name="zipcode"]').attr("data-validate","true").closest(".form-group").show()),$("#cadastro-endereco").validator("update")}),c[0]){c.find('input[name^="data"]:text').mask("99/99/9999");var a=c.find('input[name="cpfcnpj"]:text').val(),r=jQuery.parseJSON(c.find('input[name="legendas"]').val());c.find('input[name="cpfcnpj"]:text').mask("999.999.999-99").val(a),c.find('input[name="pessoa"]:radio').change(function(){var t=$(this).val(),a=$("#cadastro-cpfcnpj-box"),e=$("#cadastro-nome-box");if($("#cadastro-sobrenome-box")[0])var o=$("#cadastro-sobrenome-box");var n=$("#cadastro-razao-box"),i=$("#cadastro-data-nascimento-box"),s=c.find('input[name="cpfcnpj"]:text').val();switch(t){case"F":a.find("label").html(r.cpf+":"),$('label[for="cadastro-passaporte"]').html(r.passaporte),$('label[for="cadastro-cpfcnpj"]').html(r.cpf),a.find('input[name="cpfcnpj"]:text').unmask().mask("999.999.999-99").val(s),e.find("label").html(r.nome+":"),$("#cadastro-sobrenome-box")[0]&&o.slideDown("fast").find('input[name="sobrenome"]:text').removeAttr("disabled"),i.find("label").html(r.datanascimento+":"),n.slideUp("fast").find('input[name="razao"]:text').attr("disabled",!0);break;case"J":a.find("label").html(r.cnpj+":"),$('label[for="cadastro-cpfcnpj"]').html(r.cnpj),a.find('input[name="cpfcnpj"]:text').unmask().mask("99.999.999/9999-99").val(s),e.find("label").html(r.nomefantasia+":"),$("#cadastro-sobrenome-box")[0]&&o.slideUp("fast").find('input[name="sobrenome"]:text').attr("disabled",!0),i.find("label").html(r.datafundacao+":"),n.slideDown("fast").find('input[name="razao"]:text').removeAttr("disabled")}}),c.find('select[name="pais"]').change(function(t){"BR"==$(this).val()?($("#cadastro-cpfcnpj-box").find("input").attr("name","cpfcnpj").mask("999.999.999-99"),$("#cadastro-cpfcnpj-box").find("label").html(r.cpf+":"),$("#cadastro-pessoa").show()):($("#pessoa_fisica").closest(".item").trigger("click"),$("#cadastro-cpfcnpj-box").find("label").html(r.passaporte+":"),$("#cadastro-cpfcnpj-box").find("input").attr("name","passaporte").unmask(),$("#cadastro-pessoa").hide())}),t.find("input.input").focus(function(){$(this).css("background-color","#f2f2f2")}),t.find("input.input").blur(function(){$(this).css("background-color","#e1e1e1")})}});